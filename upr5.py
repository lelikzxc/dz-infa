# функция для заполнения матрицы размера n*m по спирали
def fill_spiral_matrix(n, m):
  # создаем пустую матрицу
  matrix = [[0 for j in range(m)] for i in range(n)]
  # инициализируем переменные для перемещения по матрице
  top = 0 # верхняя граница
  bottom = n - 1 # нижняя граница
  left = 0 # левая граница
  right = m - 1 # правая граница
  direction = 0 # направление (0 - вправо, 1 - вниз, 2 - влево, 3 - вверх)
  value = 1 # значение для заполнения ячейки
  # заполняем матрицу по спирали
  while top <= bottom and left <= right:
    if direction == 0: # двигаемся вправо
      for j in range(left, right + 1): # заполняем верхнюю строку
        matrix[top][j] = value
        value += 1 # увеличиваем значение на единицу
      top += 1 # сдвигаем верхнюю границу вниз
      direction = 1 # меняем направление на вниз
    elif direction == 1: # двигаемся вниз
      for i in range(top, bottom + 1): # заполняем правый столбец
        matrix[i][right] = value
        value += 1 # увеличиваем значение на единицу
      right -= 1 # сдвигаем правую границу влево
      direction = 2 # меняем направление на влево
    elif direction == 2: # двигаемся влево
      for j in range(right, left - 1, -1): # заполняем нижнюю строку
        matrix[bottom][j] = value
        value += 1 # увеличиваем значение на единицу
      bottom -= 1 # сдвигаем нижнюю границу вверх
      direction = 3 # меняем направление на вверх
    elif direction == 3: # двигаемся вверх
      for i in range(bottom, top - 1, -1): # заполняем левый столбец
        matrix[i][left] = value
        value += 1 # увеличиваем значение на единицу
      left += 1 # сдвигаем левую границу вправо
      direction = 0 # меняем направление на вправо
    else: # если направление не определено, выходим из цикла
      break 
  return matrix

# функция для умножения каждого элемента строки на номер строки, в которой он находится 
def multiply_row_by_index(matrix):
  n = len(matrix) # количество строк в матрице 
  m = len(matrix[0]) if n > 0 else 0 # количество столбцов в матрице 
  for i in range(n): # проходим по всем строкам 
    for j in range(m): # проходим по всем столбцам 
      matrix[i][j] *= (i + 1) # умножаем элемент на номер строки (считая с единицы)
  
# пример использования функций 
n = int(input("Введите количество строк: ")) # считываем количество строк 
m = int(input("Введите количество столбцов: ")) # считываем количество столбцов 
matrix = fill_spiral_matrix(n, m) # заполняем матрицу по спирали 
print("Матрица по спирали:") 
for row in matrix: # выводим матрицу по спирали 
  print(row)
multiply_row_by_index(matrix) # умножаем каждый элемент строки на номер строки 
print("Матрица после умножения:") 
for row in matrix: # выводим матрицу после умножения 
  print(row)
